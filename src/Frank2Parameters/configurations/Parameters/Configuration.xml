<Configuration
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:noNamespaceSchemaLocation="../FrankConfig.xsd"
	>
    <Adapter name="Parameters">
        <Receiver>
            <JavaListener name="parametersListener" />
        </Receiver>
        <Pipeline>
            <SenderPipe name="pipeWriteDb">
                <FixedQuerySender query="INSERT INTO WithTimestamp VALUES(?)">
                    <Param name="theTimestamp" type="XMLDATETIME" value="2022-09-14T15:00:00"></Param>
                </FixedQuerySender>
            </SenderPipe>
            <CompareIntegerPipe name="compare">
                <Param name="operand1" value="100" type="STRING" />
                <Param name="operand2" value="99" type="STRING" />
                <Forward name="lessthan" path="pipeLessThan" />
                <Forward name="equals" path="PipeEquals" />
                <Forward name="greaterthan" path="pipeGreaterThan" />
            </CompareIntegerPipe>
            <FixedResultPipe name="pipeLessThen" returnString="less">
                <Forward name="success" path="pipeXmlParameter" />
            </FixedResultPipe>
            <FixedResultPipe name="pipeEquals" returnString="equals">
                <Forward name="success" path="pipeXmlParameter" />
            </FixedResultPipe>
            <FixedResultPipe name="pipeGreaterThan" returnString="greater" />
            <FixedResultPipe name="pipeXmlParameter" storeResultInSessionKey="keyXmlParameter"
                filename="fileXmlParameter.xml" />
            <XsltPipe name="applyParameters" styleSheetName="template.xsl" indentXml="true">
                <Param name="parString" type="STRING" sessionKey="keyXmlParameter" xpathExpression="xmlRoot" />
                <Param name="parXml" type="XML" sessionKey="keyXmlParameter" xpathExpression="xmlRoot" />
                <Param name="parDomDoc" type="DOMDOC" sessionKey="keyXmlParameter" xpathExpression="xmlRoot" />
            </XsltPipe>    
        </Pipeline>
    </Adapter>
</Configuration>